<form [formGroup]="formRegPostulantes" (ngSubmit)="onSubmit()">
    <section id="guardiaPostula">
        <div class="container py-2 mx-auto">
            <div class="card card0 border-0">
                <div class="row d-flex">
                    <div class="container">
                        <div class="main-body">
                            <div class="row gutters-sm">

                                <div class="col-md-3 mt-2 ml-2 mr-2 mb-2">

                                    <div class="form-group card mt-1">
                                        <div class="card-body">
                                            <div class="d-flex flex-column align-items-center text-center">
                                                <img src="{{imagen}}" alt="Admin" class="rounded-circle" width="180" />
                                                <div class="mt-2">
                                                    <h4>{{titulo}}</h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group card mt-4 mx-auto">
                                        <div class="card-header">Descripción
                                            <span class="float-right" ngbTooltip="Ayuda">
                                                <!-- <fa-icon [icon]="fainfocircle"></fa-icon> -->
                                                <svg width="1em" height="1em" viewBox="0 0 16 16"
                                                    class="bi bi-info-circle" fill="currentColor"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <path fill-rule="evenodd"
                                                        d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                                                    <path
                                                        d="M8.93 6.588l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588z" />
                                                    <circle cx="8" cy="4.5" r="1" />
                                                </svg>
                                            </span>
                                        </div>
                                        <p class="text-justify mx-auto" style="width: 90%;">Lorem ipsum dolor sit amet
                                            consectetur adipisicing elit. Facilis perspiciatis nam quod soluta odit
                                            voluptatibus dicta a ipsam voluptates, eos at iure sunt tempora debitis
                                            dignissimos! Quidem, non. Beatae doloribus aperiam ex at eius obcaecati
                                            soluta voluptas culpa quidem dolor, dolorem sed voluptatum in magnam! Sequi
                                            autem animi non laudantium.</p>
                                    </div>
                                </div>

                                <div class="col-md-8 mt-3 ml-1 mb-1">
                                    <div class="card mb-1">
                                        <div class="card-header">
                                            <h6>DATOS POSTULANTE</h6>
                                        </div>
                                        <div class="card-body">
                                            <div class="form-row">
                                                <div class="form-group col-md-6">
                                                    <label for="lbltRut">Rut</label>
                                                    <input type="text" class="form-control my-1"
                                                        placeholder="Ingresa Rut" formControlName="rut" id="rut"
                                                        name="rut" [(ngModel)]="postulanteModel.rut"
                                                        (blur)="validaRut(postulanteModel.rut)" />

                                                    <div class="alert alert-danger"
                                                        *ngIf="formRegPostulantes.get('rut').errors && formRegPostulantes.get('rut').touched">

                                                        <p *ngIf="formRegPostulantes.get('rut').hasError('minlength')">
                                                            Maximo 5
                                                            caracteres</p>
                                                        <p *ngIf="formRegPostulantes.get('rut').hasError('required')">
                                                            Campo Requerido
                                                        </p>
                                                    </div>
                                                    <p class="rutError" id="validacion-live"></p>
                                                </div>
                                                <div class="form-group col-md-6">
                                                    <label for="lblNombre">Nombre Completo</label>
                                                    <input type="text" class="form-control my-1" id="Inputnombre"
                                                        formControlName="nombre"
                                                        [(ngModel)]="postulanteModel.nombreCompleto" />

                                                    <div class="alert alert-danger"
                                                        *ngIf="formRegPostulantes.get('nombre').errors && formRegPostulantes.get('nombre').touched">
                                                        <p
                                                            *ngIf="formRegPostulantes.get('nombre').hasError('required')">
                                                            Campo Requerido
                                                        </p>
                                                    </div>
                                                </div>

                                                <div class="form-group col-md-6">
                                                    <label for="lblFechaNacimiento">Fecha de Nacimiento</label>
                                                    <div class="input-group">
                                                        <input type="date" class="form-control my-1"
                                                            id="fechaNacimiento" formControlName="fechaNacimiento"
                                                            [(ngModel)]="postulanteModel.fechaNacimiento" />
                                                    </div>
                                                </div>

                                                <div class="form-group col-md-6">
                                                    <label for="lblSexo">Sexo</label>
                                                    <br>
                                                    <div class="custom-control custom-radio custom-control-inline">
                                                        <input type="radio" id="sexoMasculino" name="sexo"
                                                            class="custom-control-input my-1" formControlName="sexo"
                                                            value="Masculino">
                                                        <label class="custom-control-label" for="sexoMasculino">
                                                            Masculino
                                                        </label>
                                                    </div>
                                                    <div class="custom-control custom-radio custom-control-inline">
                                                        <input type="radio" id="sexoFemenino" name="sexo"
                                                            class="custom-control-input" formControlName="sexo"
                                                            value="femenino">
                                                        <label class="custom-control-label" for="sexoFemenino">
                                                            Femenino
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="form-group col-md-6">
                                                    <label for="lblComuna">Nacionalidad</label>
                                                    <select class="form-control my-1" formControlName="nacionalidad"
                                                        (change)="onChangeComuna($event.target.value)"
                                                        [(ngModel)]="postulanteModel.nacionalidad">
                                                        <option value="">Seleccione Nacionalidad</option>
                                                        <option *ngFor="let nacionalidades of parametroNacionalidad"
                                                            value="{{nacionalidades.pra_val}}">{{nacionalidades.pra_des
                                                            | uppercase}}
                                                        </option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-md-6">
                                                    <label for="lblComuna">Estado Civil</label>
                                                    <select class="form-control my-1" formControlName="estadoCivil"
                                                        [(ngModel)]="postulanteModel.estadoCivil">
                                                        <option value="">Seleccione Estado civil</option>
                                                        <option *ngFor="let estadoCivl of parametroEstadoCivil"
                                                            value="{{estadoCivl.pra_val}}">{{estadoCivl.pra_des |
                                                            uppercase}}
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="card mb-1">
                                        <div class="card-header">
                                            <h6>DATOS CONTACTO</h6>
                                        </div>
                                        <div class="card-body">

                                            <div class="form-row">
                                                <div class="form-group col-md-6">
                                                    <label for="lblCelular">Celular</label>
                                                    <input type="number" class="form-control my-1" id="celular"
                                                        formControlName="celular"
                                                        [(ngModel)]="postulanteModel.celular" />
                                                </div>

                                                <div class="form-group col-md-6">
                                                    <label for="lbltelefono">Teléfono</label>
                                                    <input type="number" class="form-control my-1" id="telefono"
                                                        placeholder="2200000000" formControlName="telefono"
                                                        [(ngModel)]="postulanteModel.telefono" />
                                                </div>

                                                <div class="form-group col-md-12">
                                                    <label for="lblCelular">Correo Electrónico</label>
                                                    <input type="email" class="form-control my-1" id="inputemail"
                                                        ngModel [email]="true" formControlName="email" required
                                                        [(ngModel)]="postulanteModel.email" />
                                                </div>

                                                <div class="alert alert-danger"
                                                    *ngIf="formRegPostulantes.get('email').invalid && (formRegPostulantes.get('email').dirty || formRegPostulantes.get('email').touched)">
                                                    <div class="container-error-message"
                                                        *ngIf="formRegPostulantes.get('email').errors.required">
                                                        Email es requerido
                                                    </div>

                                                    <div class="container-error-message"
                                                        *ngIf="(formRegPostulantes.get('email').dirty || formRegPostulantes.get('email').touched) && formRegPostulantes.get('email').invalid && formRegPostulantes.get('email').errors.pattern">
                                                        Correo invalido
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="card mb-1">
                                        <div class="card-header">
                                            <h6>DIRECCIÓN</h6>
                                        </div>
                                        <div class="card-body">

                                            <div class="form-row">
                                                <div class="form-group col-md-6">
                                                    <label for="lblComuna">Región</label>
                                                    <select class="form-control my-1" formControlName="region"
                                                        (change)="onChangeComuna($event.target.value)"
                                                        [(ngModel)]="postulanteModel.region">
                                                        <option value="">Seleccione Región</option>
                                                        <option *ngFor="let regiones of regionesModel"
                                                            value="{{regiones.REGION_ID}}">
                                                            {{regiones.REGION_NOMBRE
                                                            | uppercase}}
                                                        </option>
                                                    </select>
                                                </div>
                                                <div class="form-group col-md-6">
                                                    <label for="lblComuna">Comuna</label>
                                                    <select class="form-control my-1" formControlName="comuna"
                                                        [(ngModel)]="postulanteModel.comuna">
                                                        <option value="">Seleccione Comuna</option>
                                                        <option *ngFor="let comuna of comunaModel"
                                                            value="{{comuna.COMUNA_ID}}">{{comuna.COMUNA_NOMBRE
                                                            |
                                                            uppercase}}
                                                        </option>
                                                    </select>
                                                </div>

                                                <div class="form-group col-md-12">
                                                    <label for="lblDireccion">Calle</label>
                                                    <input type="text" class="form-control my-1" id="inputDireccion"
                                                        formControlName="calle" [(ngModel)]="postulanteModel.calle" />
                                                </div>

                                                <div class="form-group col-md-6">
                                                    <label for="lblnumero">Número</label>
                                                    <input type="text" class="form-control my-1" id="numero"
                                                        formControlName="numero" [(ngModel)]="postulanteModel.numero" />
                                                </div>
                                                <div class="form-group col-md-6">
                                                    <label for="lbldepto">Departamento / casa /
                                                        parcela</label>
                                                    <input type="text" class="form-control my-1" id="depto"
                                                        formControlName="depto" [(ngModel)]="postulanteModel.depto" />
                                                </div>

                                            </div>
                                            <hr />
                                        </div>
                                    </div>

                                    <div class="card mb-1">
                                        <div class="card-header">
                                            <h6>SEGURIDAD</h6>
                                        </div>
                                        <div class="card-body">

                                            <div class="form-row">

                                                <div class="form-group col-md-6">
                                                    <label for="lbltRut">
                                                        <h6>Ingrese Contraseña</h6>
                                                    </label>
                                                    <div class="input-group">
                                                        <input type="password" id="passEmpresa" name="Contrasenia"
                                                            class="form-control my-1" formControlName="passEmpresa"
                                                            placeholder="&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;"
                                                            [(ngModel)]="postulanteModel.passEmpresa">
                                                        <div *ngIf="formRegPostulantes.get('passEmpresa').touched && formRegPostulantes.get('passEmpresa').invalid"
                                                            class="alert alert-danger">
                                                            <div
                                                                *ngIf="formRegPostulantes.get('passEmpresa').errors.required">
                                                                Contraseña es requerida.
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <span class="mdi mdi-eye" id="mostrar"> <span class="pwdtxt"
                                                            style="cursor:pointer;">Mostrar contraseña</span></span>

                                                </div>

                                                <div class="form-group col-md-6">
                                                    <label for="lbltRut">
                                                        <h6>Repita Contraseña</h6>
                                                    </label>
                                                    <input type="password" id="RepetirContrasenia"
                                                        name="RepetirContrasenia" class="form-control my-1"
                                                        formControlName="passEmpresa1"
                                                        placeholder="&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;&#9679;">
                                                    <div *ngIf="formRegPostulantes.get('passEmpresa1').touched && formRegPostulantes.get('passEmpresa1').invalid"
                                                        class="alert alert-danger">
                                                        <div
                                                            *ngIf="formRegPostulantes.get('passEmpresa1').errors.required">
                                                            Contraseña es requerida.</div>
                                                        <div
                                                            *ngIf="formRegPostulantes.get('passEmpresa1').errors.confirmedValidator">
                                                            Las contraseñas no coinciden. Favor vuelva a ingresarla.
                                                            .</div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-row">
                                        <div class="form-group col-md-6 text-center">
                                            <button type="submit" class="btn btn-outline-primary"
                                                [disabled]="!formRegPostulantes.valid">Enviar</button>
                                        </div>
                                        <div class="form-group col-md-6 text-center">
                                            <button class="btn btn-outline-primary">Limpiar</button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</form>